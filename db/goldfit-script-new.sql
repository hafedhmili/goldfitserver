-- MySQL Script generated by MySQL Workbench
-- Mon Mar 14 21:16:52 2022
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema GoldFit
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `GoldFit` ;

-- -----------------------------------------------------
-- Schema GoldFit
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `GoldFit` DEFAULT CHARACTER SET utf8 ;
SHOW WARNINGS;
USE `GoldFit` ;

-- -----------------------------------------------------
-- Table `GoldFit`.`Program`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`Program` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`Program` (
  `idProgram` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ProgramName` VARCHAR(45) NOT NULL,
  `ProgramDescription` VARCHAR(320) NOT NULL,
  `ProgramDuration` INT NOT NULL,
  PRIMARY KEY (`idProgram`))
ENGINE = InnoDB;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`Exercice`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`Exercice` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`Exercice` (
  `idExercice` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciceName` VARCHAR(45) NOT NULL,
  `ExerciceDescription` VARCHAR(320) NOT NULL,
  `ExerciceNumberRepetitionsMin` INT NOT NULL DEFAULT 0,
  `ExerciceNumberRepetitionsMax` INT NOT NULL DEFAULT 0,
  `ExerciceDescriptionURL` VARCHAR(45) NULL,
  PRIMARY KEY (`idExercice`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `ExerciceName_UNIQUE` ON `GoldFit`.`Exercice` (`ExerciceName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`ExerciceSeries`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`ExerciceSeries` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`ExerciceSeries` (
  `idExerciceSeries` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciceSeriesName` VARCHAR(45) NOT NULL,
  `ExerciceSeriesDescription` VARCHAR(320) NULL,
  PRIMARY KEY (`idExerciceSeries`))
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `ExerciceSeriesName_UNIQUE` ON `GoldFit`.`ExerciceSeries` (`ExerciceSeriesName` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`ProgramExerciceSeries`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`ProgramExerciceSeries` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`ProgramExerciceSeries` (
  `ProgramExerciceSeriesId` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ProgramId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciseSeriesId` SMALLINT(2) UNSIGNED NOT NULL,
  `startDay` INT NOT NULL,
  `endDay` INT NOT NULL,
  PRIMARY KEY (`ProgramExerciceSeriesId`),
  CONSTRAINT `fk_programId`
    FOREIGN KEY (`ProgramId`)
    REFERENCES `GoldFit`.`Program` (`idProgram`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_exercise_series_id`
    FOREIGN KEY (`ExerciseSeriesId`)
    REFERENCES `GoldFit`.`ExerciceSeries` (`idExerciceSeries`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_programId_idx` ON `GoldFit`.`ProgramExerciceSeries` (`ProgramId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_exercise_series_id_idx` ON `GoldFit`.`ProgramExerciceSeries` (`ExerciseSeriesId` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`ExerciceSeriesExercise`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`ExerciceSeriesExercise` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`ExerciceSeriesExercise` (
  `idExerciceSeriesExercise` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `ExerciceSeriesId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciceId` SMALLINT(2) UNSIGNED NOT NULL,
  `ExerciseOrder` INT NOT NULL,
  `ExerciceNumberSeriesMin` INT NOT NULL DEFAULT 0,
  `ExerciceNumberSeriesMax` INT NOT NULL,
  PRIMARY KEY (`idExerciceSeriesExercise`),
  CONSTRAINT `fk_ExerciseId`
    FOREIGN KEY (`ExerciceId`)
    REFERENCES `GoldFit`.`Exercice` (`idExercice`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_ExerciseSeriesId`
    FOREIGN KEY (`ExerciceSeriesId`)
    REFERENCES `GoldFit`.`ExerciceSeries` (`idExerciceSeries`)
    ON DELETE NO ACTION
    ON UPDATE CASCADE)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE INDEX `fk_ExerciseId_idx` ON `GoldFit`.`ExerciceSeriesExercise` (`ExerciceId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_ExerciseSeriesId_idx` ON `GoldFit`.`ExerciceSeriesExercise` (`ExerciceSeriesId` ASC) VISIBLE;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`Patient`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`Patient` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`Patient` (
  `idPatient` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `PatientFirstName` VARCHAR(45) NOT NULL,
  `PatientLastName` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idPatient`))
ENGINE = InnoDB;

SHOW WARNINGS;

-- -----------------------------------------------------
-- Table `GoldFit`.`ProgramEnrollment`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `GoldFit`.`ProgramEnrollment` ;

SHOW WARNINGS;
CREATE TABLE IF NOT EXISTS `GoldFit`.`ProgramEnrollment` (
  `idProgramEnrollment` SMALLINT(2) UNSIGNED NOT NULL AUTO_INCREMENT,
  `PatientID` SMALLINT(2) UNSIGNED NOT NULL,
  `ProgramId` SMALLINT(2) UNSIGNED NOT NULL,
  `ProgramEnrollmentDate` DATE NOT NULL,
  `ProgramStartDate` DATE NOT NULL,
  `ProgramEnrollmentCode` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`idProgramEnrollment`),
  CONSTRAINT `fk_patient_Id`
    FOREIGN KEY (`PatientID`)
    REFERENCES `GoldFit`.`Patient` (`idPatient`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_program_id`
    FOREIGN KEY (`ProgramId`)
    REFERENCES `GoldFit`.`Program` (`idProgram`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

SHOW WARNINGS;
CREATE UNIQUE INDEX `ProgramEnrollmentCode_UNIQUE` ON `GoldFit`.`ProgramEnrollment` (`ProgramEnrollmentCode` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_program_id_idx` ON `GoldFit`.`ProgramEnrollment` (`ProgramId` ASC) VISIBLE;

SHOW WARNINGS;
CREATE INDEX `fk_patient_Id_idx` ON `GoldFit`.`ProgramEnrollment` (`PatientID` ASC) VISIBLE;

SHOW WARNINGS;

SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `GoldFit`.`Program`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`Program` (`idProgram`, `ProgramName`, `ProgramDescription`, `ProgramDuration`) VALUES (1, 'PACE', 'This is the PACE program', 60);
INSERT INTO `GoldFit`.`Program` (`idProgram`, `ProgramName`, `ProgramDescription`, `ProgramDuration`) VALUES (2, 'PATH', 'This is the PATH program', 60);

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`Exercice`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`Exercice` (`idExercice`, `ExerciceName`, `ExerciceDescription`, `ExerciceNumberRepetitionsMin`, `ExerciceNumberRepetitionsMax`, `ExerciceDescriptionURL`) VALUES (1, 'Sit-Ups', 'These are sit-ups', 10, 30, 'https://youtu.be/ojByzJhwVFE');
INSERT INTO `GoldFit`.`Exercice` (`idExercice`, `ExerciceName`, `ExerciceDescription`, `ExerciceNumberRepetitionsMin`, `ExerciceNumberRepetitionsMax`, `ExerciceDescriptionURL`) VALUES (2, 'Lie Down', 'Not as easy as it seems', 40, 50, 'https://youtu.be/gyds04mi_z0');
INSERT INTO `GoldFit`.`Exercice` (`idExercice`, `ExerciceName`, `ExerciceDescription`, `ExerciceNumberRepetitionsMin`, `ExerciceNumberRepetitionsMax`, `ExerciceDescriptionURL`) VALUES (3, 'Sleeping', 'Don\'t laugh', 50, 60, 'https://youtu.be/ojByzJhwVFE');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`ExerciceSeries`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`ExerciceSeries` (`idExerciceSeries`, `ExerciceSeriesName`, `ExerciceSeriesDescription`) VALUES (1, 'SeriesOne', 'Consists of exercice 1 (sit-ups) and 2 (lie downs) a few times');
INSERT INTO `GoldFit`.`ExerciceSeries` (`idExerciceSeries`, `ExerciceSeriesName`, `ExerciceSeriesDescription`) VALUES (2, 'SeriesTwo', 'Consists of exercice 1 (sit-ups) and 3 (sleeping)');
INSERT INTO `GoldFit`.`ExerciceSeries` (`idExerciceSeries`, `ExerciceSeriesName`, `ExerciceSeriesDescription`) VALUES (3, 'SeriesThree', 'Consists of exercices 1, 2, and 3');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`ProgramExerciceSeries`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`ProgramExerciceSeries` (`ProgramExerciceSeriesId`, `ProgramId`, `ExerciseSeriesId`, `startDay`, `endDay`) VALUES (1, 1, 3, 1, 60);
INSERT INTO `GoldFit`.`ProgramExerciceSeries` (`ProgramExerciceSeriesId`, `ProgramId`, `ExerciseSeriesId`, `startDay`, `endDay`) VALUES (2, 2, 1, 1, 19);
INSERT INTO `GoldFit`.`ProgramExerciceSeries` (`ProgramExerciceSeriesId`, `ProgramId`, `ExerciseSeriesId`, `startDay`, `endDay`) VALUES (3, 2, 2, 20, 39);
INSERT INTO `GoldFit`.`ProgramExerciceSeries` (`ProgramExerciceSeriesId`, `ProgramId`, `ExerciseSeriesId`, `startDay`, `endDay`) VALUES (4, 2, 3, 40, 60);

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`ExerciceSeriesExercise`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (1, 1, 1, 1, 2, 3);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (2, 1, 2, 2, 3, 4);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (3, 2, 1, 1, 2, 4);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (4, 2, 3, 2, 2, 5);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (5, 3, 1, 1, 2, 4);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (6, 3, 2, 2, 4, 5);
INSERT INTO `GoldFit`.`ExerciceSeriesExercise` (`idExerciceSeriesExercise`, `ExerciceSeriesId`, `ExerciceId`, `ExerciseOrder`, `ExerciceNumberSeriesMin`, `ExerciceNumberSeriesMax`) VALUES (7, 3, 3, 3, 3, 4);

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`Patient`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`Patient` (`idPatient`, `PatientFirstName`, `PatientLastName`) VALUES (1, 'Mylène', 'Aubertin');
INSERT INTO `GoldFit`.`Patient` (`idPatient`, `PatientFirstName`, `PatientLastName`) VALUES (2, 'Hafedh', 'Mili');

COMMIT;


-- -----------------------------------------------------
-- Data for table `GoldFit`.`ProgramEnrollment`
-- -----------------------------------------------------
START TRANSACTION;
USE `GoldFit`;
INSERT INTO `GoldFit`.`ProgramEnrollment` (`idProgramEnrollment`, `PatientID`, `ProgramId`, `ProgramEnrollmentDate`, `ProgramStartDate`, `ProgramEnrollmentCode`) VALUES (1, 1, 1, '2022-03-13', '2022-03-13', 'MAL-01');
INSERT INTO `GoldFit`.`ProgramEnrollment` (`idProgramEnrollment`, `PatientID`, `ProgramId`, `ProgramEnrollmentDate`, `ProgramStartDate`, `ProgramEnrollmentCode`) VALUES (2, 2, 2, '2022-03-13', '2022-04-01', 'HM-01');


COMMIT;

